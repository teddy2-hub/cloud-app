<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <!-- 
  type에 module을 사용하면 defer를 사용하지 않아도 스크립트 위치와 
  상관없이 DOM에 접근이 가능하다.
  -->
  <script type="module">
    console.log(document.querySelector("#f_insert"));
    const f_insert = document.querySelector("#f_insert")
    const mem_id = document.querySelector("#mem_id").value
    //아래코드는 실행 기회를 갖더라도 최초에는 값이 들어있지 않다.
    const mem_email = document.querySelector("#mem_email").value
    console.log(`submit 이전 mem_id:${mem_id}, mem_email: ${mem_email}`);
    f_insert.addEventListener('submit', function(){
      console.log(`submit 했을 때 mem_id:${mem_id}`);
    })
    const f_update = document.querySelector("#f_update")
    f_update.addEventListener('submit', function(event){
      event.preventDefault()//이벤트가 전이되는 것을 막아줌
      console.log(`submit 했을 때 mem_id:${mem_id}`);
      console.log(`submit 했을 때 mem_email:${mem_email}`);
    })

  </script>
  <form id="f_insert" method="get">
    <input type="text" id="mem_id" name="mem_id" value="kiwi"><br>
    <input type="button" value="아이디전송"><br>
  </form>
  <hr>
  <form id="f_update" method="get">
    <input type="text" id="mem_email" name="mem_email"><br>
    <button type="submit">이메일전송</button><br>
  </form>

</body>
</html>